همانطور که الگوهای طراحی، ضدالگوهای عملکردی نیز فرآیندها و پیاده‌سازی‌های معیوب رایج در سازمان‌ها هستند. اینها رویه‌های رایجی هستند که به احتمال زیاد باعث مشکلات مقیاس‌پذیری در زمانی که یک برنامه تحت فشار قرار می‌گیرد، می‌شوند. آگاهی از این رویه‌ها می‌تواند به ساده‌سازی ارتباط مفاهیم سطح بالا بین متخصصان نرم‌افزار کمک کند و دانش ضدالگوها هنگام بررسی کد یا عیب‌یابی مسائل عملکردی مفید باشد.

یک سناریوی رایج را در نظر بگیرید: یک برنامه در طول تست عملکرد به خوبی رفتار می‌کند. این برنامه به محیط تولید منتقل می‌شود و شروع به مدیریت حجم کاری واقعی می‌کند. در این مرحله، عملکرد آن ضعیف می‌شود – درخواست‌های کاربر را رد می‌کند، متوقف می‌شود یا استثنا ایجاد می‌کند. سپس تیم توسعه با دو سوال روبرو می‌شود:

چرا این رفتار در طول تست ظاهر نشد؟ چگونه آن را برطرف کنیم؟ پاسخ به سوال اول ساده است. شبیه‌سازی کاربران واقعی در یک محیط تست، به همراه الگوهای رفتاری آنها و حجم کاری که ممکن است انجام دهند، دشوار است. تنها راه کاملاً مطمئن برای درک رفتار یک سیستم تحت بار، مشاهده آن در تولید است. برای شفاف‌سازی، ما پیشنهاد نمی‌کنیم که تست عملکرد را نادیده بگیرید. تست عملکرد برای به دست آوردن معیارهای عملکرد اولیه بسیار مهم است. اما باید آماده باشید تا مشکلات عملکرد را زمانی که در سیستم زنده ایجاد می‌شوند، مشاهده و اصلاح کنید.

پاسخ به سوال دوم، یعنی نحوه رفع مشکل، کمتر واضح است. عوامل متعددی می‌توانند در این امر نقش داشته باشند و گاهی اوقات مشکل فقط در شرایط خاص بروز می‌کند. ابزار دقیق و لاگ‌گیری برای یافتن علت اصلی ضروری هستند، اما شما همچنین باید بدانید که به دنبال چه چیزی باشید.

بر اساس تعاملات ما با مشتریان Microsoft Azure، برخی از رایج‌ترین مشکلات عملکردی را که مشتریان در تولید مشاهده می‌کنند، شناسایی کرده‌ایم. برای هر ضدالگو، توضیح می‌دهیم که چرا این ضدالگو معمولاً رخ می‌دهد، علائم ضدالگو و تکنیک‌های حل مشکل. ما همچنین کد نمونه‌ای را ارائه می‌دهیم که هم ضدالگو و هم راه‌حل پیشنهادی مقیاس‌پذیری را نشان می‌دهد.

ممکن است برخی از این ضدالگوها در هنگام خواندن توضیحات واضح به نظر برسند، اما آنها بیشتر از آنچه فکر می‌کنید رخ می‌دهند. گاهی اوقات یک برنامه از یک طراحی که به صورت on-premises کار می‌کرد، ارث می‌برد، اما در cloud مقیاس‌پذیر نیست. یا ممکن است یک برنامه با یک طراحی بسیار تمیز شروع شود، اما با افزودن ویژگی‌های جدید، یکی یا چند مورد از این ضدالگوها وارد آن می‌شود. به هر حال، این راهنما به شما در شناسایی و رفع این ضدالگوها کمک می‌کند.

## فهرست ضدالگوها

در اینجا لیستی از ضدالگوهایی که شناسایی کرده‌ایم آورده شده است:

| ضدالگو                                                                                                              | توضیح                                                                          |
| ------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------ |
| [Busy Database](https://learn.microsoft.com/en-us/azure/architecture/antipatterns/busy-database/)                   | انتقال پردازش بیش از حد به یک مخزن داده                                        |
| [Busy Database](https://learn.microsoft.com/en-us/azure/architecture/antipatterns/busy-database/)                   | انتقال وظایف با منابع زیاد به رشته‌های پس‌زمینه                                |
| [Chatty I/O](https://learn.microsoft.com/en-us/azure/architecture/antipatterns/chatty-io/)                          | ارسال مداوم درخواست‌های شبکه کوچک متعدد                                        |
| [Extraneous Fetching](https://learn.microsoft.com/en-us/azure/architecture/antipatterns/extraneous-fetching/)       | بازیابی داده‌های بیشتر از حد نیاز که منجر به I/O غیر ضروری می‌شود              |
| [Improper Instantiation](https://learn.microsoft.com/en-us/azure/architecture/antipatterns/improper-instantiation/) | ایجاد و تخریب مکرر اشیایی که برای به اشتراک گذاری و استفاده مجدد طراحی شده‌اند |
| [Monolithic Persistence](https://learn.microsoft.com/en-us/azure/architecture/antipatterns/monolithic-persistence/) | استفاده از همان مخزن داده برای داده‌هایی با الگوهای استفاده بسیار متفاوت       |
| [No Caching](https://learn.microsoft.com/en-us/azure/architecture/antipatterns/no-caching/)                         | عدم کش کردن داده                                                               |
| [Noisy Neighbor](https://learn.microsoft.com/en-us/azure/architecture/antipatterns/noisy-neighbor/noisy-neighbor)   | یک مستاجر به تنهایی از بخش نامتناسبی از منابع استفاده می‌کند                   |
| [Retry Storm](https://learn.microsoft.com/en-us/azure/architecture/antipatterns/retry-storm/)                       | تلاش بیش از حد برای تکرار درخواست‌های ناموفق به یک سرور                        |
| [Synchronous I/O](https://learn.microsoft.com/en-us/azure/architecture/antipatterns/synchronous-io/)                | مسدود کردن رشته فراخوان در حالی که I/O تکمیل می‌شود                            |
