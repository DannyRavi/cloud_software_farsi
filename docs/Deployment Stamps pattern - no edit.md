الگوی تمبر استقرار شامل تهیه، مدیریت و نظارت بر یک گروه ناهمگن از منابع برای میزبانی و بهره برداری از بارهای کاری یا مستاجر متعدد است. هر کپی منفرد یک تمبر یا گاهی اوقات یک واحد خدماتی، واحد مقیاس یا سلول نامیده می شود. در یک محیط چند مستاجر، هر واحد تمبر یا ترازو می‌تواند به تعداد از پیش تعریف‌شده مستاجر خدمت کند. تمبرهای متعددی را می توان به کار برد تا راه حل را تقریباً خطی کند و به تعداد فزاینده ای از مستاجران خدمت کند. این رویکرد می‌تواند مقیاس‌پذیری راه‌حل شما را بهبود بخشد، به شما امکان می‌دهد نمونه‌هایی را در چندین منطقه مستقر کنید و داده‌های مشتری خود را جدا کنید.

## Context and problem

هنگام میزبانی یک برنامه در فضای ابری، ملاحظات خاصی وجود دارد. یکی از نکات کلیدی که باید در نظر داشته باشید عملکرد و قابلیت اطمینان برنامه شما است. اگر یک نمونه از راه حل خود را میزبانی می کنید، ممکن است مشمول محدودیت های زیر باشید:  
  
* محدودیت های مقیاس استقرار یک نمونه از برنامه شما ممکن است منجر به محدودیت های مقیاس طبیعی شود. برای مثال، ممکن است از سرویس هایی استفاده کنید که محدودیت هایی در تعداد اتصالات ورودی، نام هاست، سوکت های TCP یا منابع دیگر دارند.  
* مقیاس بندی غیر خطی یا هزینه. برخی از مؤلفه‌های راه‌حل شما ممکن است با تعداد درخواست‌ها یا مقدار داده مقیاس خطی نداشته باشند. در عوض، زمانی که یک آستانه برآورده شد، ممکن است کاهش ناگهانی در عملکرد یا افزایش هزینه وجود داشته باشد. برای مثال، ممکن است از یک پایگاه داده استفاده کنید و متوجه شوید که هزینه نهایی اضافه کردن ظرفیت بیشتر (مقیاس‌سازی) گران‌تر می‌شود، و مقیاس‌بندی استراتژی مقرون‌به‌صرفه‌تری است.  
* جداسازی مشتریان. ممکن است لازم باشد داده‌های مشتریان خاص را از داده‌های مشتریان دیگر جدا نگه دارید. به طور مشابه، ممکن است مشتریانی داشته باشید که به منابع سیستم بیشتری نسبت به سایرین نیاز دارند و آنها را در زیرساخت های مختلف گروه بندی کنید.  
* رسیدگی به موارد تک و چند مستاجر. ممکن است مشتریان بزرگی داشته باشید که به نمونه های مستقل خود از راه حل شما نیاز دارند. همچنین ممکن است مجموعه ای از مشتریان کوچکتر داشته باشید که می توانند یک استقرار چند مستاجر را به اشتراک بگذارند.  
* الزامات استقرار پیچیده ممکن است لازم باشد به‌روزرسانی‌ها را به شیوه‌ای کنترل‌شده در سرویس خود اجرا کنید و در زمان‌های مختلف در زیرمجموعه‌های مختلف پایگاه مشتریان خود مستقر شوید.  
* فرکانس به روز رسانی ممکن است مشتریانی داشته باشید که به‌روزرسانی‌های مکرر سیستم شما را تحمل می‌کنند، در حالی که برخی دیگر ممکن است ریسک گریز باشند و بخواهند سیستمی که درخواست‌هایشان را پاسخ می‌دهد به‌روزرسانی‌های نادری انجام شود. ممکن است منطقی باشد که این مشتریان در محیط های ایزوله مستقر شوند.  
* محدودیت های جغرافیایی یا ژئوپلیتیکی. برای طراحی برای تاخیر کم، یا رعایت الزامات حاکمیت داده، ممکن است برخی از مشتریان خود را در مناطق خاصی مستقر کنید.

## Solution

برای جلوگیری از این مسائل، منابع را در واحدهای مقیاس گروه بندی کنید و چندین نسخه از تمبرهای خود تهیه کنید. هر واحد مقیاس میزبان زیرمجموعه ای از مستاجرین شما خواهد بود و به آنها خدمت می کند. تمبرها مستقل از یکدیگر عمل می کنند و می توانند به طور مستقل مستقر و به روز شوند. یک منطقه جغرافیایی منفرد ممکن است حاوی یک تمبر باشد یا ممکن است حاوی چندین مهر باشد تا امکان مقیاس افقی در داخل منطقه را فراهم کند. تمبرها شامل زیرمجموعه ای از مشتریان شما هستند.

![[Pasted image 20231204000549.png]]

مهرهای استقرار می توانند اعمال شوند، چه راه حل شما از زیرساخت به عنوان یک سرویس (IaaS) یا پلتفرم به عنوان مؤلفه های سرویس (PaaS) یا ترکیبی از هر دو استفاده کند. معمولاً بارهای کاری IaaS نیاز به مداخله بیشتری برای مقیاس بندی دارند، بنابراین این الگو ممکن است برای بارهای کاری سنگین IaaS مفید باشد تا امکان کاهش مقیاس را فراهم کند.  
  
از مهرها می توان برای اجرای حلقه های استقرار استفاده کرد. اگر مشتریان مختلف بخواهند به‌روزرسانی‌های خدمات را در فرکانس‌های مختلف دریافت کنند، می‌توان آن‌ها را در تمبرهای مختلف گروه‌بندی کرد و هر مهر می‌تواند به‌روزرسانی‌هایی را در آهنگ‌های متفاوتی داشته باشد.  
  
از آنجا که تمبرها به طور مستقل از یکدیگر اجرا می شوند، داده ها به طور ضمنی خرد می شوند. علاوه بر این، یک مهر می‌تواند از خرد شدن بیشتر استفاده کند تا به صورت داخلی امکان مقیاس‌پذیری و کشش درون مهر را فراهم کند.  
  
الگوی مهر استقرار به صورت داخلی توسط بسیاری از سرویس‌های Azure از جمله App Service، Azure Stack و Azure Storage استفاده می‌شود.  
  
تمبرهای استقرار مربوط به ژئودها هستند، اما متمایز از آنها هستند. در معماری تمبر استقرار، چندین نمونه مستقل از سیستم شما مستقر می شوند و شامل زیرمجموعه ای از مشتریان و کاربران شما هستند. در ژئودها، همه نمونه‌ها می‌توانند درخواست‌های هر کاربر را ارائه دهند، اما این معماری اغلب برای طراحی و ساخت پیچیده‌تر است. همچنین ممکن است ترکیب دو الگو را در یک محلول در نظر بگیرید. رویکرد مسیریابی ترافیک که در زیر توضیح داده شده است نمونه ای از چنین سناریوی ترکیبی است.

### Deployment

به دلیل پیچیدگی که در استقرار کپی‌های یکسان از اجزای یکسان وجود دارد، اقدامات خوب DevOps برای اطمینان از موفقیت در اجرای این الگو بسیار مهم است. در نظر بگیرید که زیرساخت خود را به صورت کد توصیف کنید، مانند استفاده از قالب‌های Bicep، JSON Azure Resource Manager (قالب‌های ARM)، Terraform و اسکریپت‌ها. با این رویکرد، می توانید اطمینان حاصل کنید که استقرار هر مهر قابل پیش بینی و تکرار است. همچنین احتمال خطاهای انسانی مانند عدم تطابق تصادفی در پیکربندی بین تمبرها را کاهش می دهد.  
  
می‌توانید به‌روزرسانی‌ها را به‌طور خودکار برای همه تمبرها به صورت موازی اجرا کنید، در این صورت ممکن است فناوری‌هایی مانند الگوهای Bicep یا Resource Manager را برای هماهنگ کردن استقرار زیرساخت‌ها و برنامه‌های کاربردی خود در نظر بگیرید. از طرف دیگر، ممکن است تصمیم بگیرید ابتدا به‌روزرسانی‌ها را برای برخی از تمبرها و سپس به تدریج برای برخی دیگر به‌روزرسانی کنید. استفاده از یک ابزار مدیریت انتشار مانند Azure Pipelines یا GitHub Actions را برای هماهنگ کردن استقرار در هر مهر در نظر بگیرید. برای اطلاعات بیشتر ببین:

BICEP را با خطوط لوله لاجورد ادغام کنید  
الگوهای بازوی JSON را با خطوط لوله لاجورد ادغام کنید

توپولوژی اشتراک های لاجورد و گروه های منابع را برای استقرار خود با دقت در نظر بگیرید:  
  
* به طور معمول یک اشتراک شامل کلیه منابع برای یک راه حل واحد خواهد بود ، بنابراین به طور کلی استفاده از یک اشتراک واحد برای همه تمبرها را در نظر بگیرید. با این حال ، برخی از خدمات لاجورد سهمیه های گسترده ای را تحمیل می کنند ، بنابراین اگر از این الگوی استفاده می کنید تا درجه بالایی از مقیاس را فراهم کنید ، ممکن است لازم باشد که تمبر را در اشتراک های مختلف در نظر بگیرید.  
* گروه های منابع به طور کلی برای استقرار قطعات با همان چرخه عمر استفاده می شوند. اگر قصد دارید به طور همزمان به روزرسانی ها را برای همه تمبرهای خود مستقر کنید ، استفاده از یک گروه منبع واحد را در نظر بگیرید تا تمام مؤلفه ها را برای همه تمبرهای خود داشته باشید و از کنوانسیون ها و برچسب های نامگذاری منابع استفاده کنید تا مؤلفه هایی را که متعلق به هر تمبر هستند ، شناسایی کنید. از طرف دیگر ، اگر قصد دارید به روزرسانی های هر تمبر را به طور مستقل مستقر کنید ، در نظر بگیرید که هر تمبر را در گروه منابع خود مستقر کنید.


### Capacity planning

از آزمایش بار و عملکرد برای تعیین بار تقریبی که یک مهر معین می تواند تحمل کند، استفاده کنید. سنجه‌های بار ممکن است بر اساس تعداد مشتریان/مستاجرانی باشد که یک مهر می‌تواند در خود جای دهد، یا معیارهای خدماتی که اجزای درون مهر منتشر می‌کنند. اطمینان حاصل کنید که ابزار کافی برای اندازه گیری زمانی که یک تمبر به ظرفیت خود نزدیک می شود، و توانایی استقرار سریع تمبرهای جدید برای پاسخگویی به تقاضا را دارید.

### Traffic routing

الگوی Deployment Stamp اگر به هر مهر به طور مستقل پرداخته شود، به خوبی کار می کند. به عنوان مثال، اگر Contoso یک برنامه API یکسان را در چند تمبر مستقر کند، ممکن است استفاده از DNS را برای هدایت ترافیک به مهر مربوطه در نظر بگیرد:  
  
* unit1.aus.myapi.contoso.com ترافیک را به سمت stamp unit1 در یک منطقه استرالیا هدایت می کند.  
* unit2.aus.myapi.contoso.com ترافیک را به سمت stamp unit2 در یک منطقه استرالیا هدایت می کند.  
* unit1.eu.myapi.contoso.com ترافیک را به سمت stamp unit1 در یک منطقه اروپایی هدایت می کند.  
سپس مشتریان مسئول اتصال به مهر صحیح هستند.  
  
اگر یک نقطه ورودی واحد برای تمام ترافیک مورد نیاز باشد، می‌توان از سرویس مسیریابی ترافیک برای رفع مهر درخواست، مشتری یا مستاجر استفاده کرد. سرویس مسیریابی ترافیک یا مشتری را به URL مربوطه برای مهر هدایت می کند (به عنوان مثال، با استفاده از کد وضعیت پاسخ HTTP 302)، یا ممکن است به عنوان یک پروکسی معکوس عمل کرده و ترافیک را بدون اطلاع مشتری به مهر مربوطه ارسال کند. .  
  
یک سرویس مسیریابی ترافیک متمرکز می تواند جزء پیچیده ای برای طراحی باشد، به خصوص زمانی که یک راه حل در چندین منطقه اجرا می شود. استقرار سرویس مسیریابی ترافیک را در چندین منطقه در نظر بگیرید (به طور بالقوه شامل هر منطقه ای که تمبرها در آن مستقر شده اند)، و سپس اطمینان حاصل کنید که ذخیره داده (نگاشت مستاجر به تمبر) هماهنگ است. مولفه مسیریابی ترافیک ممکن است خود با نمونه ای از الگوی ژئود.  
  
به عنوان مثال، Azure API Management می تواند برای عمل در نقش سرویس مسیریابی ترافیک مستقر شود. می‌تواند با جستجوی داده‌ها در مجموعه Azure Cosmos DB که نقشه‌برداری بین مستاجرین و تمبرها را ذخیره می‌کند، مهر مناسب را برای درخواست تعیین کند. سپس مدیریت API می‌تواند به صورت پویا URL بک‌اند را روی سرویس API مهر مربوطه تنظیم کند.  
  
برای فعال کردن توزیع جغرافیایی درخواست‌ها و افزونگی جغرافیایی سرویس مسیریابی ترافیک، مدیریت API را می‌توان در چندین منطقه مستقر کرد یا از Azure Front Door برای هدایت ترافیک به نزدیک‌ترین نمونه استفاده کرد. Front Door را می‌توان با یک استخر باطنی پیکربندی کرد و درخواست‌ها را به نزدیک‌ترین نمونه مدیریت API موجود هدایت کرد. اگر برنامه شما از طریق HTTP/S نمایش داده نمی‌شود، می‌توانید از متعادل‌کننده بار Azure بین منطقه‌ای برای توزیع تماس‌های دریافتی بین Azure Load Balancer منطقه‌ای استفاده کنید. از ویژگی توزیع جهانی Azure Cosmos DB می توان برای به روز نگه داشتن اطلاعات نقشه برداری در هر منطقه استفاده کرد.  
  
اگر یک سرویس مسیریابی ترافیک در راه حل شما گنجانده شده است، در نظر بگیرید که آیا به عنوان یک دروازه عمل می کند و بنابراین می تواند بارگذاری دروازه را برای سرویس های دیگر، مانند اعتبار سنجی رمز، throttling و مجوز انجام دهد.


#### Example traffic routing architecture

نمونه معماری مسیریابی ترافیک زیر را در نظر بگیرید که از Azure Front Door، Azure API Management و Azure Cosmos DB برای مسیریابی ترافیک جهانی و سپس یک سری از مهرهای خاص منطقه استفاده می کند:

![[Pasted image 20231204000925.png]]

فرض کنید یک کاربر به طور معمول در نیویورک زندگی می کند. داده های آنها در مهر 3، در منطقه شرق ایالات متحده ذخیره می شود.  
  
اگر کاربر به کالیفرنیا سفر کند و سپس به سیستم دسترسی پیدا کند، احتمالاً ارتباط آنها از طریق منطقه West US 2 انجام می شود زیرا در هنگام درخواست، این منطقه از نظر جغرافیایی نزدیکترین مکان است. با این حال، درخواست در نهایت باید با مهر 3 ارائه شود، زیرا داده های آنها در آنجا ذخیره می شود. سیستم مسیریابی ترافیک اطمینان حاصل می کند که درخواست به مهر صحیح هدایت می شود.

## Issues and considerations

هنگام تصمیم گیری در مورد نحوه اجرای این الگو باید نکات زیر را در نظر بگیرید:  
  
* فرآیند استقرار. هنگام استقرار چندین مهر، بسیار توصیه می شود که فرآیندهای استقرار خودکار و کاملاً تکرار شونده داشته باشید. استفاده از قالب‌های Bicep، JSON ARM یا ماژول‌های Terraform را در نظر بگیرید تا مهر را به صورت اعلامی تعریف کنید.  
* عملیات تمبر متقاطع. هنگامی که راه حل شما به طور مستقل در چندین تمبر مستقر می شود، سؤالاتی مانند 'چند مشتری در تمام تمبرهایمان داریم؟' پاسخ دادن می تواند پیچیده تر شود. ممکن است لازم باشد پرس و جوها در مقابل هر مهر اجرا شوند و نتایج جمع شوند. متناوبا، در نظر بگیرید که تمام تمبرها داده ها را در یک انبار داده متمرکز برای گزارش تلفیقی منتشر کنند.  
* تعیین خط مشی های افزایش مقیاس تمبرها ظرفیت محدودی دارند که ممکن است با استفاده از یک معیار پراکسی مانند تعداد مستاجرانی که می‌توانند روی تمبر مستقر شوند، تعریف شود. نظارت بر ظرفیت موجود و ظرفیت مورد استفاده برای هر تمبر، و به کارگیری فعال تمبرهای اضافی برای اجازه دادن به مستاجران جدید به سمت آنها مهم است.  
* حداقل تعداد تمبر هنگامی که از الگوی Deployment Stamp استفاده می کنید، توصیه می شود حداقل دو مهر از راه حل خود را مستقر کنید. اگر فقط یک مهر را به کار می‌گیرید، به راحتی می‌توانید مفروضاتی را به‌طور تصادفی در کد یا پیکربندی خود سخت‌سازی کنید که در زمان کوچک‌تر کردن اعمال نمی‌شوند.  
* هزینه. الگوی Deployment Stamp شامل استقرار چندین نسخه از مؤلفه زیرساخت شما است که احتمالاً شامل افزایش قابل توجهی در هزینه راه‌حل شما خواهد بود.  
* حرکت بین تمبرها از آنجایی که هر تمبر به طور مستقل مستقر شده و کار می کند، جابجایی مستاجران بین تمبرها می تواند دشوار باشد. برنامه شما به منطق سفارشی نیاز دارد تا اطلاعات مربوط به یک مشتری خاص را به مهر دیگری منتقل کند و سپس اطلاعات مستاجر را از مهر اصلی حذف کند. این فرآیند ممکن است به یک صفحه پشتی برای ارتباط بین مهرها نیاز داشته باشد که پیچیدگی راه حل کلی را بیشتر می کند.  
* مسیریابی ترافیک. همانطور که در بالا توضیح داده شد، مسیریابی ترافیک به مهر صحیح برای یک درخواست معین می‌تواند به یک مؤلفه اضافی برای حل و فصل مستاجرها به تمبرها نیاز داشته باشد. این مؤلفه، به نوبه خود، ممکن است نیاز داشته باشد که در دسترس باشد.  
* اجزای مشترک ممکن است اجزایی داشته باشید که بتوان آنها را در تمبرها به اشتراک گذاشت. به عنوان مثال، اگر یک برنامه تک صفحه ای مشترک برای همه مستاجران دارید، آن را در یک منطقه مستقر کنید و از Azure CDN برای تکرار آن در سطح جهانی استفاده کنید.

## When to use this pattern

این الگو زمانی مفید است که:  
  
* محدودیت های طبیعی در مقیاس پذیری به عنوان مثال، اگر برخی از مؤلفه‌ها نمی‌توانند یا نباید از تعداد معینی مشتری یا درخواست بزرگ شوند، با استفاده از تمبرها را در نظر بگیرید.  
* الزامی برای جداسازی برخی مستاجران از دیگران. اگر مشتریانی دارید که به دلیل نگرانی‌های امنیتی نمی‌توانند در یک تمبر چند مستاجر با مشتریان دیگر مستقر شوند، می‌توانند روی مهر جدا شده خودشان مستقر شوند.  
* نیاز به داشتن چند مستاجر در نسخه های مختلف راه حل خود به طور همزمان.  
* برنامه های چند منطقه ای که در آن داده ها و ترافیک هر مستاجر باید به یک منطقه خاص هدایت شود.  
* تمایل به دستیابی به انعطاف پذیری در هنگام خاموشی. از آنجایی که تمبرها مستقل از یکدیگر هستند، اگر قطعی یک تمبر را تحت تأثیر قرار دهد، مستاجرانی که در تمبرهای دیگر مستقر شده اند نباید تحت تأثیر قرار گیرند. این انزوا به مهار 'شعاع انفجار' یک حادثه یا قطع کمک می کند.  

این الگو برای موارد زیر مناسب نیست:  
  
* راه حل های ساده ای که نیازی به مقیاس بندی در درجه بالایی ندارند.  
* سیستم هایی که می توانند به راحتی در یک نمونه کوچک یا بزرگ شوند، مانند افزایش اندازه لایه برنامه یا با افزایش ظرفیت رزرو شده برای پایگاه های داده و ردیف ذخیره سازی.  
* راه حل هایی که در آن داده ها باید در تمام نمونه های مستقر شده تکرار شوند. الگوی ژئود را برای این سناریو در نظر بگیرید.  
* راه حل هایی که در آنها فقط برخی از مؤلفه ها باید مقیاس شوند، اما برخی دیگر نه. برای مثال، در نظر بگیرید که آیا راه‌حل شما می‌تواند با تقسیم کردن ذخیره‌گاه داده به جای استقرار یک کپی جدید از همه اجزای راه‌حل، مقیاس‌پذیر شود یا خیر.  
* راه حل ها صرفاً از محتوای ثابت، مانند یک برنامه JavaScript جلویی تشکیل شده اند. ذخیره چنین محتوایی در یک حساب ذخیره سازی و استفاده از Azure CDN را در نظر بگیرید.

## Supporting technologies

* زیرساخت به عنوان کد به عنوان مثال، الگوهای Bicep، Resource Manager، Azure CLI، Terraform، PowerShell، Bash.  
* ء Azure Front Door، که می تواند ترافیک را به یک تمبر خاص یا به یک سرویس مسیریابی ترافیک هدایت کند.

## Example

مثال زیر چندین مهر از یک راه حل ساده PaaS را با یک سرویس برنامه و یک پایگاه داده SQL در هر مهر مستقر می کند. در حالی که تمبرها را می توان در هر منطقه ای پیکربندی کرد که از خدمات مستقر در الگو پشتیبانی می کند، برای اهداف تصویری، این الگو دو مهر را در منطقه West US 2 و یک مهر دیگر را در منطقه غرب اروپا مستقر می کند. در داخل یک تمبر، سرویس برنامه نام میزبان DNS عمومی خود را دریافت می کند و می تواند اتصالات را مستقل از سایر مهرها دریافت کند.

```
هشدار  
  
مثال زیر از یک حساب مدیر SQL Server استفاده می کند. به طور کلی استفاده از یک حساب کاربری مدیریتی از برنامه شما کار خوبی نیست. برای یک برنامه واقعی، از یک هویت مدیریت شده برای اتصال از برنامه خود به پایگاه داده SQL استفاده کنید یا از یک حساب با حداقل امتیاز استفاده کنید.
```

برای استقرار راه حل روی لینک زیر کلیک کنید.

```
توجه داشته باشید  
  
روش‌های جایگزینی برای استقرار تمبرها با الگوی Resource Manager وجود دارد، از جمله استفاده از الگوهای تودرتو یا الگوهای پیوندی برای جدا کردن تعریف هر مهر از تکرار مورد نیاز برای استقرار چندین نسخه.
```

### Example traffic routing approach

مثال زیر پیاده سازی راه حل مسیریابی ترافیک را به کار می گیرد که می تواند با مجموعه ای از مهرهای استقرار برای یک برنامه API فرضی استفاده شود. برای اجازه دادن به توزیع جغرافیایی درخواست‌های دریافتی، Front Door در کنار چندین نمونه از مدیریت API در سطح مصرف مستقر می‌شود. هر نمونه مدیریت API شناسه مستاجر را از URL درخواست می خواند و سپس مهر مربوط به درخواست را از یک فروشگاه داده Azure Cosmos DB با توزیع جغرافیایی جستجو می کند. سپس درخواست به مهر پشتیبان مربوطه ارسال می شود.  
  
برای استقرار راه حل روی لینک زیر کلیک کنید.

## Contributors

_This article is maintained by Microsoft. It was originally written by the following contributors._

Principal author:

- [John Downs](http://linkedin.com/in/john-downs) | Principal Customer Engineer, FastTrack for Azure

Other contributors:

- [Daniel Larsen](http://linkedin.com/in/daniellarsennz) | Principal Customer Engineer, FastTrack for Azure
- [Angel Lopez](http://linkedin.com/in/iangellopez) | Senior Software Engineer, Azure Patterns and Practices
- [Paolo Salvatori](http://linkedin.com/in/paolo-salvatori) | Principal Customer Engineer, FastTrack for Azure
- [Arsen Vladimirskiy](http://linkedin.com/in/arsenv) | Principal Customer Engineer, FastTrack for Azure

_To see non-public LinkedIn profiles, sign in to LinkedIn._

## Related resources

* در Sharding می تواند به عنوان یک روش ساده تر دیگر برای کاهش سطح داده های شما استفاده شود. تمبرها به طور ضمنی داده های خود را خرد می کنند، اما اشتراک گذاری نیازی به Deployment Stamp ندارد. برای اطلاعات بیشتر، الگوی Sharding را ببینید.  
* اگر یک سرویس مسیریابی ترافیک مستقر شود، الگوهای مسیریابی دروازه و بارگذاری دروازه می توانند با هم استفاده شوند تا بهترین استفاده را از این مؤلفه داشته باشند.